import { Component, EventEmitter, Input, Output, ViewChild } from "@angular/core";
import { BaseIconButton } from "./base-icon-button.component";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "carbon-components-angular/tooltip";
import * as i3 from "./button.directive";
export class IconButton extends BaseIconButton {
    constructor(renderer) {
        super();
        this.renderer = renderer;
        /**
         * Override id
         */
        this.buttonId = `icon-btn-${IconButton.iconButtonCounter++}`;
        /**
         * Sets the button type.
         */
        this.kind = "primary";
        /**
         * Specify the size of the button.
         */
        this.size = "lg";
        /**
         * Set button type, `button` by default
         */
        this.type = "button";
        /**
         * Set to `true` to make button expressive
         */
        this.isExpressive = false;
        /**
         * Set to `true` to disable button
         */
        this.disabled = false;
        /**
         * Common button events
         */
        this.click = new EventEmitter();
        this.focus = new EventEmitter();
        this.blur = new EventEmitter();
        /**
         * Event to emit when click event is fired from tooltip
         */
        this.tooltipClick = new EventEmitter();
        this.classList = {};
        this.attributeList = {};
    }
    /**
     * Pass global carbon classes to icon button
     */
    set buttonNgClass(obj) {
        this.classList = Object.assign({ "cds--btn--disabled": this.disabled }, obj);
    }
    get buttonNgClass() {
        return this.classList;
    }
    /**
     * @param obj: { [key: string]: string
     * User can pass additional button attributes if component property does not already exist
     * Key is the attribute name & value is the attribute value for the button
     */
    set buttonAttributes(obj) {
        if (this.button) {
            // Remove old attributes
            Object.keys(this.attributeList).forEach((key) => {
                this.renderer.removeAttribute(this.button.nativeElement, key);
            });
            // Set new attributes
            Object.keys(obj).forEach((key) => {
                this.renderer.setAttribute(this.button.nativeElement, key, obj[key]);
            });
        }
        // Set new attributes
        this.attributeList = obj;
    }
    get buttonAttributes() {
        return this.buttonAttributes;
    }
    ngAfterViewInit() {
        // Set attributes once element is found
        this.buttonAttributes = this.attributeList;
    }
    /**
     * Stop propogation of click event
     * Else double fires (click) event
     */
    emitClickEvent(event, element = "button") {
        event.preventDefault();
        event.stopPropagation();
        // Prevents (click) event from bubbling since it would appear user clicked the `button`
        if (element === "tooltip") {
            this.tooltipClick.emit(event);
            return;
        }
        this.click.emit(event);
    }
}
IconButton.iconButtonCounter = 0;
IconButton.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: IconButton, deps: [{ token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });
IconButton.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.3.0", type: IconButton, selector: "cds-icon-button, ibm-icon-button", inputs: { buttonNgClass: "buttonNgClass", buttonAttributes: "buttonAttributes", buttonId: "buttonId", kind: "kind", size: "size", type: "type", isExpressive: "isExpressive", disabled: "disabled", description: "description" }, outputs: { click: "click", focus: "focus", blur: "blur", tooltipClick: "tooltipClick" }, viewQueries: [{ propertyName: "button", first: true, predicate: ["button"], descendants: true }], usesInheritance: true, ngImport: i0, template: `
	<cds-tooltip
		class="cds--icon-tooltip"
		[description]="description"
		[disabled]="disabled"
		[caret]="caret"
		[dropShadow]="dropShadow"
		[highContrast]="highContrast"
		[isOpen]="isOpen"
		[align]="align"
		[enterDelayMs]="enterDelayMs"
		[leaveDelayMs]="leaveDelayMs"
		(click)="emitClickEvent($event, 'tooltip')">
		<button
			#button
			[id]="buttonId"
			[disabled]="disabled"
			[attr.type]="type"
			[iconOnly]="true"
			[ngClass]="buttonNgClass"
			[cdsButton]="kind"
			[size]="size"
			[isExpressive]="isExpressive"
			(click)="emitClickEvent($event)"
			(focus)="focus.emit($event)"
			(blur)="blur.emit($event)">
			<ng-content></ng-content>
		</button>
	</cds-tooltip>
	`, isInline: true, dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "component", type: i2.Tooltip, selector: "cds-tooltip, ibm-tooltip", inputs: ["id", "enterDelayMs", "leaveDelayMs", "disabled", "description"] }, { kind: "directive", type: i3.Button, selector: "[cdsButton], [ibmButton]", inputs: ["ibmButton", "cdsButton", "size", "skeleton", "iconOnly", "isExpressive"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: IconButton, decorators: [{
            type: Component,
            args: [{
                    selector: "cds-icon-button, ibm-icon-button",
                    template: `
	<cds-tooltip
		class="cds--icon-tooltip"
		[description]="description"
		[disabled]="disabled"
		[caret]="caret"
		[dropShadow]="dropShadow"
		[highContrast]="highContrast"
		[isOpen]="isOpen"
		[align]="align"
		[enterDelayMs]="enterDelayMs"
		[leaveDelayMs]="leaveDelayMs"
		(click)="emitClickEvent($event, 'tooltip')">
		<button
			#button
			[id]="buttonId"
			[disabled]="disabled"
			[attr.type]="type"
			[iconOnly]="true"
			[ngClass]="buttonNgClass"
			[cdsButton]="kind"
			[size]="size"
			[isExpressive]="isExpressive"
			(click)="emitClickEvent($event)"
			(focus)="focus.emit($event)"
			(blur)="blur.emit($event)">
			<ng-content></ng-content>
		</button>
	</cds-tooltip>
	`
                }]
        }], ctorParameters: function () { return [{ type: i0.Renderer2 }]; }, propDecorators: { buttonNgClass: [{
                type: Input
            }], buttonAttributes: [{
                type: Input
            }], button: [{
                type: ViewChild,
                args: ["button"]
            }], buttonId: [{
                type: Input
            }], kind: [{
                type: Input
            }], size: [{
                type: Input
            }], type: [{
                type: Input
            }], isExpressive: [{
                type: Input
            }], disabled: [{
                type: Input
            }], description: [{
                type: Input
            }], click: [{
                type: Output
            }], focus: [{
                type: Output
            }], blur: [{
                type: Output
            }], tooltipClick: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWNvbi1idXR0b24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2J1dHRvbi9pY29uLWJ1dHRvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVOLFNBQVMsRUFFVCxZQUFZLEVBQ1osS0FBSyxFQUNMLE1BQU0sRUFHTixTQUFTLEVBQ1QsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDhCQUE4QixDQUFDOzs7OztBQW9DOUQsTUFBTSxPQUFPLFVBQVcsU0FBUSxjQUFjO0lBbUY3QyxZQUFvQixRQUFtQjtRQUN0QyxLQUFLLEVBQUUsQ0FBQztRQURXLGFBQVEsR0FBUixRQUFRLENBQVc7UUEzQ3ZDOztXQUVHO1FBQ00sYUFBUSxHQUFHLFlBQVksVUFBVSxDQUFDLGlCQUFpQixFQUFFLEVBQUUsQ0FBQztRQUNqRTs7V0FFRztRQUNNLFNBQUksR0FBZSxTQUFTLENBQUM7UUFDdEM7O1dBRUc7UUFDTSxTQUFJLEdBQWUsSUFBSSxDQUFDO1FBQ2pDOztXQUVHO1FBQ00sU0FBSSxHQUFHLFFBQVEsQ0FBQztRQUN6Qjs7V0FFRztRQUNNLGlCQUFZLEdBQUcsS0FBSyxDQUFDO1FBQzlCOztXQUVHO1FBQ00sYUFBUSxHQUFHLEtBQUssQ0FBQztRQU0xQjs7V0FFRztRQUNPLFVBQUssR0FBRyxJQUFJLFlBQVksRUFBUyxDQUFDO1FBQ2xDLFVBQUssR0FBRyxJQUFJLFlBQVksRUFBUyxDQUFDO1FBQ2xDLFNBQUksR0FBRyxJQUFJLFlBQVksRUFBUyxDQUFDO1FBQzNDOztXQUVHO1FBQ08saUJBQVksR0FBRyxJQUFJLFlBQVksRUFBUyxDQUFDO1FBRTNDLGNBQVMsR0FBK0IsRUFBRSxDQUFDO1FBQzNDLGtCQUFhLEdBQThCLEVBQUUsQ0FBQztJQUl0RCxDQUFDO0lBcEZEOztPQUVHO0lBQ0gsSUFBYSxhQUFhLENBQUMsR0FBK0I7UUFDekQsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzlFLENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDaEIsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsSUFBYSxnQkFBZ0IsQ0FBQyxHQUE4QjtRQUMzRCxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDaEIsd0JBQXdCO1lBQ3hCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQVcsRUFBRSxFQUFFO2dCQUN2RCxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUMvRCxDQUFDLENBQUMsQ0FBQztZQUNILHFCQUFxQjtZQUNyQixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQVcsRUFBRSxFQUFFO2dCQUN4QyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdEUsQ0FBQyxDQUFDLENBQUM7U0FDSDtRQUNELHFCQUFxQjtRQUNyQixJQUFJLENBQUMsYUFBYSxHQUFHLEdBQUcsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxnQkFBZ0I7UUFDbkIsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFDOUIsQ0FBQztJQXFERCxlQUFlO1FBQ2QsdUNBQXVDO1FBQ3ZDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzVDLENBQUM7SUFFRDs7O09BR0c7SUFDSCxjQUFjLENBQUMsS0FBSyxFQUFFLFVBQWdDLFFBQVE7UUFDN0QsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN4Qix1RkFBdUY7UUFDdkYsSUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO1lBQzFCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzlCLE9BQU87U0FDUDtRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLENBQUM7O0FBckVNLDRCQUFpQixHQUFHLENBQUMsQ0FBQzt1R0FwQ2pCLFVBQVU7MkZBQVYsVUFBVSw0ZkEvQlo7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBNkJUOzJGQUVXLFVBQVU7a0JBakN0QixTQUFTO21CQUFDO29CQUNWLFFBQVEsRUFBRSxrQ0FBa0M7b0JBQzVDLFFBQVEsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUE2QlQ7aUJBQ0Q7Z0dBS2EsYUFBYTtzQkFBekIsS0FBSztnQkFhTyxnQkFBZ0I7c0JBQTVCLEtBQUs7Z0JBcUJlLE1BQU07c0JBQTFCLFNBQVM7dUJBQUMsUUFBUTtnQkFLVixRQUFRO3NCQUFoQixLQUFLO2dCQUlHLElBQUk7c0JBQVosS0FBSztnQkFJRyxJQUFJO3NCQUFaLEtBQUs7Z0JBSUcsSUFBSTtzQkFBWixLQUFLO2dCQUlHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBSUcsUUFBUTtzQkFBaEIsS0FBSztnQkFJRyxXQUFXO3NCQUFuQixLQUFLO2dCQUtJLEtBQUs7c0JBQWQsTUFBTTtnQkFDRyxLQUFLO3NCQUFkLE1BQU07Z0JBQ0csSUFBSTtzQkFBYixNQUFNO2dCQUlHLFlBQVk7c0JBQXJCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuXHRBZnRlclZpZXdJbml0LFxuXHRDb21wb25lbnQsXG5cdEVsZW1lbnRSZWYsXG5cdEV2ZW50RW1pdHRlcixcblx0SW5wdXQsXG5cdE91dHB1dCxcblx0UmVuZGVyZXIyLFxuXHRUZW1wbGF0ZVJlZixcblx0Vmlld0NoaWxkXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBCYXNlSWNvbkJ1dHRvbiB9IGZyb20gXCIuL2Jhc2UtaWNvbi1idXR0b24uY29tcG9uZW50XCI7XG5pbXBvcnQgeyBCdXR0b25TaXplLCBCdXR0b25UeXBlIH0gZnJvbSBcIi4vYnV0dG9uLnR5cGVzXCI7XG5cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogXCJjZHMtaWNvbi1idXR0b24sIGlibS1pY29uLWJ1dHRvblwiLFxuXHR0ZW1wbGF0ZTogYFxuXHQ8Y2RzLXRvb2x0aXBcblx0XHRjbGFzcz1cImNkcy0taWNvbi10b29sdGlwXCJcblx0XHRbZGVzY3JpcHRpb25dPVwiZGVzY3JpcHRpb25cIlxuXHRcdFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG5cdFx0W2NhcmV0XT1cImNhcmV0XCJcblx0XHRbZHJvcFNoYWRvd109XCJkcm9wU2hhZG93XCJcblx0XHRbaGlnaENvbnRyYXN0XT1cImhpZ2hDb250cmFzdFwiXG5cdFx0W2lzT3Blbl09XCJpc09wZW5cIlxuXHRcdFthbGlnbl09XCJhbGlnblwiXG5cdFx0W2VudGVyRGVsYXlNc109XCJlbnRlckRlbGF5TXNcIlxuXHRcdFtsZWF2ZURlbGF5TXNdPVwibGVhdmVEZWxheU1zXCJcblx0XHQoY2xpY2spPVwiZW1pdENsaWNrRXZlbnQoJGV2ZW50LCAndG9vbHRpcCcpXCI+XG5cdFx0PGJ1dHRvblxuXHRcdFx0I2J1dHRvblxuXHRcdFx0W2lkXT1cImJ1dHRvbklkXCJcblx0XHRcdFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG5cdFx0XHRbYXR0ci50eXBlXT1cInR5cGVcIlxuXHRcdFx0W2ljb25Pbmx5XT1cInRydWVcIlxuXHRcdFx0W25nQ2xhc3NdPVwiYnV0dG9uTmdDbGFzc1wiXG5cdFx0XHRbY2RzQnV0dG9uXT1cImtpbmRcIlxuXHRcdFx0W3NpemVdPVwic2l6ZVwiXG5cdFx0XHRbaXNFeHByZXNzaXZlXT1cImlzRXhwcmVzc2l2ZVwiXG5cdFx0XHQoY2xpY2spPVwiZW1pdENsaWNrRXZlbnQoJGV2ZW50KVwiXG5cdFx0XHQoZm9jdXMpPVwiZm9jdXMuZW1pdCgkZXZlbnQpXCJcblx0XHRcdChibHVyKT1cImJsdXIuZW1pdCgkZXZlbnQpXCI+XG5cdFx0XHQ8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG5cdFx0PC9idXR0b24+XG5cdDwvY2RzLXRvb2x0aXA+XG5cdGBcbn0pXG5leHBvcnQgY2xhc3MgSWNvbkJ1dHRvbiBleHRlbmRzIEJhc2VJY29uQnV0dG9uIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG5cdC8qKlxuXHQgKiBQYXNzIGdsb2JhbCBjYXJib24gY2xhc3NlcyB0byBpY29uIGJ1dHRvblxuXHQgKi9cblx0QElucHV0KCkgc2V0IGJ1dHRvbk5nQ2xhc3Mob2JqOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSkge1xuXHRcdHRoaXMuY2xhc3NMaXN0ID0gT2JqZWN0LmFzc2lnbih7IFwiY2RzLS1idG4tLWRpc2FibGVkXCI6IHRoaXMuZGlzYWJsZWQgfSwgb2JqKTtcblx0fVxuXG5cdGdldCBidXR0b25OZ0NsYXNzKCkge1xuXHRcdHJldHVybiB0aGlzLmNsYXNzTGlzdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0gb2JqOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZ1xuXHQgKiBVc2VyIGNhbiBwYXNzIGFkZGl0aW9uYWwgYnV0dG9uIGF0dHJpYnV0ZXMgaWYgY29tcG9uZW50IHByb3BlcnR5IGRvZXMgbm90IGFscmVhZHkgZXhpc3Rcblx0ICogS2V5IGlzIHRoZSBhdHRyaWJ1dGUgbmFtZSAmIHZhbHVlIGlzIHRoZSBhdHRyaWJ1dGUgdmFsdWUgZm9yIHRoZSBidXR0b25cblx0ICovXG5cdEBJbnB1dCgpIHNldCBidXR0b25BdHRyaWJ1dGVzKG9iajogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSkge1xuXHRcdGlmICh0aGlzLmJ1dHRvbikge1xuXHRcdFx0Ly8gUmVtb3ZlIG9sZCBhdHRyaWJ1dGVzXG5cdFx0XHRPYmplY3Qua2V5cyh0aGlzLmF0dHJpYnV0ZUxpc3QpLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XG5cdFx0XHRcdHRoaXMucmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKHRoaXMuYnV0dG9uLm5hdGl2ZUVsZW1lbnQsIGtleSk7XG5cdFx0XHR9KTtcblx0XHRcdC8vIFNldCBuZXcgYXR0cmlidXRlc1xuXHRcdFx0T2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xuXHRcdFx0XHR0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLmJ1dHRvbi5uYXRpdmVFbGVtZW50LCBrZXksIG9ialtrZXldKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBTZXQgbmV3IGF0dHJpYnV0ZXNcblx0XHR0aGlzLmF0dHJpYnV0ZUxpc3QgPSBvYmo7XG5cdH1cblxuXHRnZXQgYnV0dG9uQXR0cmlidXRlcygpIHtcblx0XHRyZXR1cm4gdGhpcy5idXR0b25BdHRyaWJ1dGVzO1xuXHR9XG5cblx0c3RhdGljIGljb25CdXR0b25Db3VudGVyID0gMDtcblxuXHRAVmlld0NoaWxkKFwiYnV0dG9uXCIpIGJ1dHRvbjogRWxlbWVudFJlZjtcblxuXHQvKipcblx0ICogT3ZlcnJpZGUgaWRcblx0ICovXG5cdEBJbnB1dCgpIGJ1dHRvbklkID0gYGljb24tYnRuLSR7SWNvbkJ1dHRvbi5pY29uQnV0dG9uQ291bnRlcisrfWA7XG5cdC8qKlxuXHQgKiBTZXRzIHRoZSBidXR0b24gdHlwZS5cblx0ICovXG5cdEBJbnB1dCgpIGtpbmQ6IEJ1dHRvblR5cGUgPSBcInByaW1hcnlcIjtcblx0LyoqXG5cdCAqIFNwZWNpZnkgdGhlIHNpemUgb2YgdGhlIGJ1dHRvbi5cblx0ICovXG5cdEBJbnB1dCgpIHNpemU6IEJ1dHRvblNpemUgPSBcImxnXCI7XG5cdC8qKlxuXHQgKiBTZXQgYnV0dG9uIHR5cGUsIGBidXR0b25gIGJ5IGRlZmF1bHRcblx0ICovXG5cdEBJbnB1dCgpIHR5cGUgPSBcImJ1dHRvblwiO1xuXHQvKipcblx0ICogU2V0IHRvIGB0cnVlYCB0byBtYWtlIGJ1dHRvbiBleHByZXNzaXZlXG5cdCAqL1xuXHRASW5wdXQoKSBpc0V4cHJlc3NpdmUgPSBmYWxzZTtcblx0LyoqXG5cdCAqIFNldCB0byBgdHJ1ZWAgdG8gZGlzYWJsZSBidXR0b25cblx0ICovXG5cdEBJbnB1dCgpIGRpc2FibGVkID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBUaGUgc3RyaW5nIG9yIHRlbXBsYXRlIGNvbnRlbnQgdG8gYmUgZXhwb3NlZCBieSB0aGUgdG9vbHRpcC5cblx0ICovXG5cdEBJbnB1dCgpIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBUZW1wbGF0ZVJlZjxhbnk+O1xuXG5cdC8qKlxuXHQgKiBDb21tb24gYnV0dG9uIGV2ZW50c1xuXHQgKi9cblx0QE91dHB1dCgpIGNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxFdmVudD4oKTtcblx0QE91dHB1dCgpIGZvY3VzID0gbmV3IEV2ZW50RW1pdHRlcjxFdmVudD4oKTtcblx0QE91dHB1dCgpIGJsdXIgPSBuZXcgRXZlbnRFbWl0dGVyPEV2ZW50PigpO1xuXHQvKipcblx0ICogRXZlbnQgdG8gZW1pdCB3aGVuIGNsaWNrIGV2ZW50IGlzIGZpcmVkIGZyb20gdG9vbHRpcFxuXHQgKi9cblx0QE91dHB1dCgpIHRvb2x0aXBDbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8RXZlbnQ+KCk7XG5cblx0cHJpdmF0ZSBjbGFzc0xpc3Q6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG5cdHByaXZhdGUgYXR0cmlidXRlTGlzdDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuXHRcdHN1cGVyKCk7XG5cdH1cblxuXHRuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG5cdFx0Ly8gU2V0IGF0dHJpYnV0ZXMgb25jZSBlbGVtZW50IGlzIGZvdW5kXG5cdFx0dGhpcy5idXR0b25BdHRyaWJ1dGVzID0gdGhpcy5hdHRyaWJ1dGVMaXN0O1xuXHR9XG5cblx0LyoqXG5cdCAqIFN0b3AgcHJvcG9nYXRpb24gb2YgY2xpY2sgZXZlbnRcblx0ICogRWxzZSBkb3VibGUgZmlyZXMgKGNsaWNrKSBldmVudFxuXHQgKi9cblx0ZW1pdENsaWNrRXZlbnQoZXZlbnQsIGVsZW1lbnQ6IFwidG9vbHRpcFwiIHwgXCJidXR0b25cIiA9IFwiYnV0dG9uXCIpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdC8vIFByZXZlbnRzIChjbGljaykgZXZlbnQgZnJvbSBidWJibGluZyBzaW5jZSBpdCB3b3VsZCBhcHBlYXIgdXNlciBjbGlja2VkIHRoZSBgYnV0dG9uYFxuXHRcdGlmIChlbGVtZW50ID09PSBcInRvb2x0aXBcIikge1xuXHRcdFx0dGhpcy50b29sdGlwQ2xpY2suZW1pdChldmVudCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuY2xpY2suZW1pdChldmVudCk7XG5cdH1cbn1cbiJdfQ==